name: Run Postman API Tests
description: Runs postman tests

runs:
  using: composite
  steps:
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '21'  

    - name: Install Newman
      run: |
        npm install -g newman
      shell: bash

    - name: Run Newman script
      working-directory: ./server
      run: |
        newman run api.postman_collection.json --env-var "base_url=$POSTMAN_URL" --insecure --verbose
      shell: bash
